<!DOCTYPE html>
<html lang="vi"> <!--lấy ngôn ngữ tiếng việt "vi" = vietnamese hoặc vietnam-->
  <head>
    <meta charset="UTF-8">
    <title>Create game</title>

    <style>
      body {
        /*margin: 0;*/  /*  Hệ thống mặc định có khoảng trắng xung quanh (thường là 8px), dòng này xóa khoảng cách đó. Nếu không có dòng này thì canvas sẽ không sát mép trình duyệt  */
        background: #242;  /* Màu nền cho toàn bộ trang */
        display: flex;  /* Kích hoạt Flexbox - một công cụ giúp căn chỉnh linh hoạt. Giúp dễ dàng căn chỉnh phần tử con (phần tử con ở đây là canvas) */
        justify-content: center;  /* Căn chỉnh theo chiều ngang. center để đưa phần tử con ra giữa */
        align-items: center;  /* Căn chỉnh theo chiều dọc. center để đưa phần tử con ra giữa */
        height: 100vh;
      }

      canvas {
        background: #111;
        border: 3px solid green;
      }
    </style>
    
  </head>
  
  <body>
    <canvas id="test canvas" width="600" height="450"></canvas>

    <script>
      const canvas = document.getElementById("test canvas");
      const ctx = canvas.getContext("2d");

      let player = {
        x: 30,
        y: 30,
        r: 30,
        speed: 5
      };

      function drawPlayer() {
        ctx.beginPath();
        ctx.arc(player.x, player.y, player.r, 0, Math.PI * 2);
        ctx.fillStyle = "red";
        ctx.fill();
      }
      
      function gameLoop() {
        ctx.clearRect(0, 0, canvas.width, canvas.height)
        drawPlayer()
        requestAnimationFrame(gameLoop)
      }

      window.addEventListener("keydown", (e) => {
        if (e.key === "ArrowLeft")  player.x -= player.speed
        if (e.key === "ArrowRight")  player.x += player.speed
        if (e.key === "ArrowUp")  player.y -= player.speed
        if (e.key === "ArrowDown")  player.y += player.speed
      })

      gameLoop()
    </script>
  </body>
</html>
